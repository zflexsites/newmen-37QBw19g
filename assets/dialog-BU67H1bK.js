import{f as h}from"./analytics-Dfyu_B3T.js";let i=null,f=null,d=null,o=null,c=null,t=null,r=null,s=null,u=null,m=null,a=null;function g(){i&&(i.classList.add("hidden"),m=null,a=null)}function L(){if(typeof m=="function")try{m()}catch(l){console.error("[Dialog] Erreur dans onConfirm:",l)}g()}function x(){if(typeof a=="function")try{a&&a()}catch(l){console.error("[Dialog] Erreur dans onCancel:",l)}g()}function E(l,n,e={}){if(!i){alert(`${l}

${n}`),e.onConfirm&&e.onConfirm();return}r?.classList.add("hidden"),s?.classList.add("hidden"),u?.classList.add("hidden"),e.variant==="success"?r?.classList.remove("hidden"):e.variant==="error"?s?.classList.remove("hidden"):u?.classList.remove("hidden"),d&&(d.textContent=l),o&&(e.messageHtml?o.innerHTML=e.messageHtml:o.textContent=n||""),c&&(c.textContent=e.confirmText||"OK"),t&&(e.cancelText?(t.classList.remove("hidden"),t.textContent=e.cancelText):t.classList.add("hidden")),m=typeof e.onConfirm=="function"?e.onConfirm:null,a=typeof e.onCancel=="function"?e.onCancel:null,i.classList.remove("hidden")}function B(){if(i=document.getElementById("zflex-dialog"),!!i){if(f=document.getElementById("dialog-overlay"),d=document.getElementById("dialog-title"),o=document.getElementById("dialog-message"),c=document.getElementById("dialog-confirm-btn"),t=document.getElementById("dialog-cancel-btn"),r=document.getElementById("dialog-icon-success"),s=document.getElementById("dialog-icon-error"),u=document.getElementById("dialog-icon-info"),!f||!d||!o||!c||!r||!s||!u||!t){console.error("[Dialog] Un ou plusieurs éléments internes du dialog sont manquants. Vérifie les IDs."),i=null;return}f.addEventListener("click",g),c.addEventListener("click",L),t.addEventListener("click",x),h.addEventListener("dialog:show",l=>{const n=l.detail||{},{title:e,message:C,variant:y}=n,v={variant:y,onConfirm:n.onConfirm,onCancel:n.onCancel,confirmText:n.confirmText,cancelText:n.cancelText,messageHtml:n.messageHtml};E(e,C,v)}),console.log("[Dialog] Module initialisé et prêt (callbacks & HTML).")}}const T=Object.freeze(Object.defineProperty({__proto__:null,initDialog:B,showDialog:E},Symbol.toStringTag,{value:"Module"}));export{T as d,E as s};
